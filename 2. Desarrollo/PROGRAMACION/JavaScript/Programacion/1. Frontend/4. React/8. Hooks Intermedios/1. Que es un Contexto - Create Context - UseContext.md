
---
## Que es un contexto?

- Un **contexto** es como un **componente global** que almacena variables o datos **globales**, y permite que cualquier componente que este dentro del contexto  pueda acceder y modificar esos datos sin necesidad de pasar props de un componente a otro.
- Esto es mucho mas eficiente que pasar a traves de props funciones.
- *El contexto tiene 2 partes*:
	1. **El componente contexto** Sirve para encerrar a componentes en un contexto, lleva la palabra *Provider* porque provee de ese contextro a otros componentes.
	2. **El objeto contexto:** Sirve para almacenar los estados (variables) y funciones, podemos acceder a el desde cualquier componente.

### Ejemplo: 

![[4. UseContext 2024-09-05 11.26.06.excalidraw|1000]]

### Create Context:

- **Crear el Contexto**:
	```tsx
	import { createContext, useState, ReactNode } from "react";
	
	//* ðŸ‘‡  Definir el tipo del contexto
	type TaskContextType = {
	  tasks: string[];
	  addTask: (taskName: string) => void;
	};
	
	
	//* ðŸ‘‡Valor por defecto para el contexto, vacÃ­o pero vÃ¡lido
	const defaultContextValue: TaskContextType = {
	  tasks: [],
	  addTask: () => {}, 
	};
	

	//* ðŸ‘‡ Crea el contexto usando la interfaz anterior y poniendole un valor por defecto
	export const TaskContext = createContext<TaskContextType>(defaultContextValue);
	
	//* ðŸ‘‡ Define el tipo para los props del proveedor
	type TaskContextProviderProps = {
	  children: ReactNode;
	};
	
	
	
	// ðŸ‘‡ Creamos el componente del contexto
	export function TaskContextProvider({ children }: TaskContextProviderProps) {
	
	  const [tasks, setTasks] = useState<string[]>([]);
	
	  const addTask = (taskName: string) => {
	    setTasks((prevTasks) => [...prevTasks, taskName]);
	  };
	
	  return (
	    <TaskContext.Provider value={{ tasks, addTask }}> // ðŸ‘ˆ Aqui pasamos los valores que queremos compartir con los componentes
	      {children} // ðŸ‘ˆ Esto indica que  dentro de esto habran  otros elementos
	    </TaskContext.Provider>
	  );
	}
	
	export default TaskContextProvider;
	```

- **Encerrar componentes en un contexto:**

	```tsx
	// ðŸ‘‡ en el main.tsx
	
	import { StrictMode } from "react";
	import { createRoot } from "react-dom/client";
	import App from "./App.tsx";
	
	//* ðŸ‘‡ Importamos nuestro componente contexto
	import { TaskContextProvider } from "./context/taskContext.tsx";
	
	createRoot(document.getElementById("root")!).render(
	  <StrictMode>
	
	    {/* ðŸ‘‡ Encerramos con nuestro componente de contexto */}
	    <TaskContextProvider>
	      <App />
	    </TaskContextProvider>
	
	  </StrictMode>
	);
	```

### UseContext:
El use context devuelve un objeto con todas las propiedades definidas en el contexto.

```tsx
import React, { useContext } from "react";

// ðŸ‘‡ Importamos nuestro objeto context
import { TaskContext} from "./context/taskContext";



function TaskList() {

  //                        ðŸ‘‡Lo pasamos por parametro a la funcion useContext
  const {tasks} = useContext(TaskContext); //ðŸ‘ˆ  Aqui ya podemos usar los valores desde distintos componentes


  console.log(tasks);
  

  return (
    <>
      <h1>tasklists...</h1>
    </>
  );
}



//* App
function App() {
  return (
    <>
      <TaskList />
    </>
  );
}

export default App;
```