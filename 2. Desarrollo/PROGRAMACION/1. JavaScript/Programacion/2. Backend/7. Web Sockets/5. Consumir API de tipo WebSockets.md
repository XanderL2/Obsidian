
---
## En el cliente:

```javascript


const io = require('socket.io-client');

// Configurar el cliente Socket.IO
const socket = io('http://localhost:4000', {
  transports: ['websocket'], // Forzar WebSocket como transporte
  reconnectionAttempts: 5, // Intentos de reconexi√≥n
  reconnectionDelay: 1000, // Retraso entre intentos
  timeout: 5000, // Tiempo de espera de conexi√≥n
});

// Manejar la conexi√≥n
socket.on('connect', () => {
  console.log('üü¢ Connected to server');
  
  // Enviar un mensaje al servidor una vez conectado
  const data = {
    senderId: 1,
    receiverId: 2,
    messageContent: "Hello, how are you?",
    multimedia: "https://example.com/image.jpg"
  };
  
  console.log('üì§ Sending message:', data);
  socket.emit('initialize', data);
});

// Manejar la desconexi√≥n
socket.on('disconnect', (reason) => {
  console.log(`üî¥ Disconnected from server: ${reason}`);
});

// Manejar errores de conexi√≥n
socket.on('connect_error', (error) => {
  console.error('‚ùå Connection error:', error.message);
  if (error.description) {
    console.error('Error details:', error.description);
  }
});

// Manejar errores de WebSocket espec√≠ficos
socket.on('error', (error) => {
  console.error('‚ùå Error received from server:', error);
});

// Manejar el intento de reconexi√≥n
socket.on('reconnect_attempt', (attemptNumber) => {
  console.warn(`‚ö†Ô∏è Reconnection attempt ${attemptNumber}`);
});

// Manejar reconexi√≥n exitosa
socket.on('reconnect', (attemptNumber) => {
  console.log(`üü¢ Successfully reconnected after ${attemptNumber} attempts`);
});

// Manejar fallo de reconexi√≥n
socket.on('reconnect_failed', () => {
  console.error('‚ùå Reconnection failed');
});

// Manejar mensajes v√°lidos recibidos del servidor
socket.on('message', (msg) => {
  console.log('üì• Message received:', msg);
});

// Manejar timeouts de conexi√≥n
socket.on('connect_timeout', (timeout) => {
  console.error('‚è≥ Connection timeout:', timeout);
});
```
